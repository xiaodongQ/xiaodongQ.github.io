---
layout: post
title: C语言的强符号弱符号
categories: C
tags: C
---

* content
{:toc}

具体参考：[新手小心：c语言的强符号和弱符号](http://blog.csdn.net/chgaowei/article/details/7173436)

## 什么是强符号和弱符号？

在c语言中，函数和初始化的全局变量是强符号，未初始化的全局变量时弱符号。

强符号和弱符号的定义是连接器用来处理多重定义符号的，它的规则是：

* 不允许多个强符号；
* 如果一个强符号和一个弱符号，这选择强符号；
* 如果多个弱符号，则任意选一个。

## 如何避免？

* 想办法消除全局变量。全局变量会增加程序的耦合性，对他要控制使用。如果能用其他的方法代替最好
* 把全局变量定义为static
* 把所有的符号全部都变成强符号
* GCC提供了一个选项，可以检查这类错误：-fno-common
